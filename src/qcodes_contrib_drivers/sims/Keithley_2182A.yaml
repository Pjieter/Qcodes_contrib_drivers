spec: "1.1"
devices:
  Keithley2182A:
    eom:
      GPIB INSTR:
        q: "\n"
        r: "\n"
      ASRL INSTR:
        q: "\n" 
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
    
    dialogues:
      # IDN query
      - q: "*IDN?"
        r: "KEITHLEY INSTRUMENTS INC.,MODEL 2182A,1234567,C01 Mar 31 2022 14:29:42"

      # Reset and clear commands
      - q: "*RST"
        r: ""
      - q: "*CLS"
        r: ""
      - q: "*TST?"
        r: "0"

      # Measurement function - always return VOLT:DC for simplicity
      - q: "SENS:FUNC?"
        r: '"VOLT:DC"'

      # All possible SENS:FUNC set commands - accept them all
      - q: "SENS:FUNC VOLT:DC"
        r: ""
      - q: "SENS:FUNC \"VOLT:DC\""
        r: ""
      - q: "SENS:FUNC TEMP"
        r: ""
      - q: "SENS:FUNC \"TEMP\""
        r: ""

      # Core measurement commands - always return consistent values
      - q: "MEAS:VOLT:DC?"
        r: "1.234567E-06"
      - q: "MEAS:TEMP?"
        r: "2.981500E+02"
      - q: "FETC?"
        r: "1.234567E-06"
      - q: "READ?"
        r: "1.234567E-06"

      # Parameter queries - return fixed default values
      - q: "SENS:RANG?"
        r: "1.0000E+00"
      - q: "SENS:RANG:AUTO?"
        r: "1"
      - q: "SENS:NPLC?"
        r: "1.0000E+00"
      - q: "SENS:APER?"
        r: "1.6667E-02"
      - q: "SYST:LFR?"
        r: "60"
      - q: "SENS:AVER?"
        r: "0"
      - q: "SENS:AVER:COUN?"
        r: "10"
      - q: "TRIG:SOUR?"
        r: "IMM"
      - q: "TRIG:DEL?"
        r: "0.0000E+00"
      - q: "UNIT:TEMP?"
        r: "K"
      - q: "DISP:ENAB?"
        r: "1"
      - q: "SENS:VOLT:DC:IMP:AUTO?"
        r: "1"
      - q: "SENS:VOLT:DC:LPAS?"
        r: "0"
      - q: "SENS:VOLT:DC:DFIL?"
        r: "0"
      - q: "SENS:VOLT:DC:AZER?"
        r: "1"
      - q: "SYST:ERR?"
        r: "0,\"No error\""

      # Accept all parameter setting commands
      - q: "SENS:RANG 1.0"
        r: ""
      - q: "SENS:RANG:AUTO ON"
        r: ""
      - q: "SENS:RANG:AUTO OFF"
        r: ""
      - q: "SENS:NPLC 1.0"
        r: ""
      - q: "SENS:NPLC 0.1"
        r: ""
      - q: "SENS:NPLC 10.0"
        r: ""
      - q: "SENS:NPLC 5.0"
        r: ""
      - q: "SENS:APER 0.02"
        r: ""
      - q: "SYST:LFR 60"
        r: ""
      - q: "SYST:LFR 50"
        r: ""
      - q: "SENS:AVER ON"
        r: ""
      - q: "SENS:AVER OFF"
        r: ""
      - q: "SENS:AVER:COUN 10"
        r: ""
      - q: "TRIG:SOUR IMM"
        r: ""
      - q: "TRIG:SOUR EXT"
        r: ""
      - q: "TRIG:SOUR TIM"
        r: ""
      - q: "TRIG:SOUR MAN"
        r: ""
      - q: "TRIG:SOUR BUS"
        r: ""
      - q: "TRIG:DEL 0.1"
        r: ""
      - q: "UNIT:TEMP K"
        r: ""
      - q: "UNIT:TEMP C"
        r: ""
      - q: "UNIT:TEMP F"
        r: ""
      - q: "DISP:ENAB ON"
        r: ""
      - q: "DISP:ENAB OFF"
        r: ""
      - q: "SENS:VOLT:DC:IMP:AUTO ON"
        r: ""
      - q: "SENS:VOLT:DC:IMP:AUTO OFF"
        r: ""
      - q: "SENS:VOLT:DC:LPAS ON"
        r: ""
      - q: "SENS:VOLT:DC:LPAS OFF"
        r: ""
      - q: "SENS:VOLT:DC:DFIL ON"
        r: ""
      - q: "SENS:VOLT:DC:DFIL OFF"
        r: ""
      - q: "SENS:VOLT:DC:AZER ON"
        r: ""
      - q: "SENS:VOLT:DC:AZER OFF"
        r: ""

      # Trigger commands
      - q: "INIT"
        r: ""
      - q: "ABOR"
        r: ""
      - q: "*TRG"
        r: ""

resources:
  GPIB::1::INSTR:
    device: Keithley2182A